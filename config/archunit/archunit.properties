# ArchUnit Configuration
# =====================
# Place this file at src/test/resources/archunit.properties in your project.
# See docs/ARCHUNIT_STANDARDS.md for full documentation.
#
# Any property can be overridden via system property:
#   -Darchunit.propertyName=value

# ===== Resolution Behavior =====
# When true, ArchUnit resolves missing dependencies from the classpath.
# Set to false for faster tests -- only analyze your own code.
# Default: true
resolveMissingDependenciesFromClassPath=false

# Alternative: selectively resolve only your org's packages (uncomment to use):
# classResolver=com.tngtech.archunit.core.importer.resolvers.SelectedClassResolverFromClasspath
# classResolver.args=com.mycompany

# ===== Cycle Detection =====
# Maximum number of cycles to detect. Reduce for faster CI.
# Default: 100
cycles.maxNumberToDetect=50

# Maximum number of dependencies to report per cycle edge.
# Higher values provide more detail but increase memory usage.
# Default: 20
cycles.maxNumberOfDependenciesPerEdge=10

# ===== Freezing Arch Rules =====
# Path for the violation store. COMMIT this directory to VCS so the
# baseline is shared across the team.
# Default: archunit_store
freeze.store.default.path=archunit_store

# Whether to allow creating new store files.
# CI: set to false to prevent accidental baseline resets.
# Local dev: override with -Darchunit.freeze.store.default.allowStoreCreation=true
# Default: true
freeze.store.default.allowStoreCreation=false

# Whether to allow updating store files when violations are fixed.
# Keep true so the store shrinks as violations are resolved.
# Default: true
freeze.store.default.allowStoreUpdate=true

# When true, re-freezes all current violations (resets the baseline).
# Use sparingly and only with team agreement.
# Default: false
freeze.refreeze=false

# ===== Empty Rule Safety =====
# Fail if the "should" part evaluates against zero classes.
# Prevents dead rules that silently pass because no classes match.
# Default: true
archRule.failOnEmptyShould=true

# ===== Display =====
# Replace underscores in JUnit test names with spaces for readability.
# e.g., "services_should_not_depend_on_controllers" -> "services should not depend on controllers"
# Default: false
junit.displayName.replaceUnderscoresBySpaces=true
